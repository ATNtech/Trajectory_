(()=>{"use strict";var e,t,o,r={654443:(e,t,o)=>{o.d(t,{default:()=>n});var r=o(791563);class n{static create(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=window,n=r.stManager,a=r.jsc,i=r.curBox,s=r.cur,c=r.nav;n.add([a("web/groups_create.js"),"groups_create.css"],(()=>{window.GroupsCreate.showInfoBox("event",{parentId:e,parentHash:t,onSave:()=>{o?(s.reloadAfterClose=!1,i()&&i().hide(),s.reloadAfterClose=!0,this.show(e)):c.reload()}})}))}static delete(e,t,o){var r=window,n=r.cur,a=r.tooltips,i=r.curBox;n.reloadAfterClose=!0,ajax.post("al_public.php",{act:"a_delete_event",pid:e,eid:t,hash:o},{onDone:t=>{a&&a.destroyAll(ge("public_event_cell"+e)),i().content(t)}})}static show(e){var t=window,o=t.cur,n=t.nav;(0,r.showBox)("al_public.php",{act:"a_get_events",pid:e}).setOptions({onHideAttempt:()=>(o.reloadAfterClose&&(n.reload({noscroll:!0}),o.reloadAfterClose=!1),!0)})}}},9404:(e,t,o)=>{o.d(t,{showInviteLinkBox:()=>i,copyInviteLinkHref:()=>s});var r=o(791563),n=o(414914),a=o(705456);function i(e){new c(e).show()}function s(e){var t=!1,o=(0,n.attr)(e,"href");window.copyToClipboard(o);var r=(0,n.domPN)((0,n.domPN)(e)),a=geByClass1("invite-link-actions",r),i=geByClass1("invite-link-actions-copied",r);return(0,n.hide)(a),(0,n.show)(i),setStyle(i,{opacity:1}),t=setTimeout((()=>{setStyle(i,{opacity:0}),(0,n.hide)(i),(0,n.show)(a),clearTimeout(t)}),2e3),!1}class c{constructor(e){this.inviteLinkId=e}show(){var e={params:{width:450,hideButtons:!0},onDone:(e,t)=>this.onShowBoxDone(t)};this.box=(0,r.showBox)("invite.php",{act:"group_invite_link_box",invite_link_id:this.inviteLinkId},e)}join(e,t,o,r){if((0,a.isButtonLocked)(this.joinButton))return!1;var n={hash:e,link:t,gid:o,act:"enter"};ajax.post("al_groups.php",n,{onDone:()=>{nav.go(r)},showProgress:()=>{(0,a.lockButton)(this.joinButton)},hideProgress:()=>{(0,a.unlockButton)(this.joinButton)}})}onShowBoxDone(e){var t=e.hash,o=void 0===t?"":t,r=e.link,a=void 0===r?"":r,i=e.groupId,s=void 0===i?"":i,c=e.groupLink,u=void 0===c?"":c;o?(this.joinButton=(0,n.domQuery1)(".group-join-button",this.box.bodyNode),addEvent(this.joinButton,"click",(()=>{this.join(o,a,s,u)}))):this.box.setOptions({hideButtons:!1})}}},624268:(e,t,o)=>{o.d(t,{joinChatBox:()=>c});var r=o(917685),n=o(389430),a=o(371372),i=o(663527),s=o(91257);function c(e,t,o,a){(0,r.cancelEvent)(a);var c={invite_chat_id:t,invite_hash:e},l=(0,s.default)({writeHash:o,longpoll:[],tabs:{},dialog_tabs:{},invitation:c,onJoinChat:u});(0,i.showInvitationBox)(l,c,n.leaveInvitation)}function u(e){if((0,a.isChatPeer)(e)){var t=(0,i.convertPeerToUrl)(e);nav.go(`im?sel=${t}`)}}},127131:(e,t,o)=>{o.d(t,{registerStartupHandlers:()=>R,Groups:()=>L});o(175115),o(751876),o(66108),o(296253),o(530522),o(976142),o(667294);var r=o(414914),n=o(705456),a=o(79018),i=o(109847),s=o(266499),c=(o(412685),o(953338)),u=o(229434),l=o(624268),p=o(654443),d=o(453705),g=o(362270),m=o(791563),_=o(9404),h=o(361731),f=o(594904),v=o(128533),w=o(9807),b=o(163170),y=o(330044),C=o(469433),S=o(496495);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}var E=!1;function R(){(0,v.tq)().setStartupHandler("Groups/add_recent_at_startup",(e=>{var t=e.payload.data,o=t.group_id,r=t.hash;(0,w.addRecent)(o,r)}))}var L={init:function(e){extend(cur,{module:"groups",hideOther:L.hideOther,otherActs:L.otherActs,options:e,oid:-e.group_id,postTo:-e.group_id,_back:{loc:e.loc,show:[],hide:[],text:e.back}}),ge("group_wall")&&wall.init(extend(e,{automore:1}));var t=new URLSearchParams(window.location.search);t.delete("ref");var o=Array.from(t).length>0?`${window.location.pathname}?${t.toString()}`:window.location.pathname;window.history.replaceState(null,"",o),SimilarGroups.delRefFromUrl(),cur.nav.push((e=>(0,i.removeOutOfSerpClickLogging)(e,i.outOfSerpGroup,cur.oid))),cur.nav.push((function(e){e[0]&&clearTimeout(L.keyTO)})),e.cntKey&&L.subscribe(e.cntKey),e.age_disclaimer&&L.showDisclaimer(e,"group"),e.enableLinkTracking&&(0,a.initGroupLinksTracking)(),e.gwn&&!Array.isArray(e.gwn)&&(0,c.showWarningNotification)(e.gwn),(0,s.initGroupsMenu)(e.group_id),E&&(SimilarGroups.reInit(),E=!1,SimilarGroups.show(g.OPEN_BLOCK_MODE_SUBSCRIBE)),(0,d.initEasyMarketPromoteTooltips)(),e.inviteLinkId&&(0,_.showInviteLinkBox)(e.inviteLinkId),L.initPageActionsMenu({opts:e})},inviteToChat:function(e,t){stManager.add([jsc("web/group_invite_chat.js"),"group_invite_chat.css",jsc("web/indexer.js")],(function(){window.showGroupChatInviteBox(e)})),t&&t.preventDefault()},inviteToChatPreload:function(){stManager.add([jsc("web/group_invite_chat.js"),"group_invite_chat.css",jsc("web/indexer.js")],(function(){}))},showDisclaimer:function(e,t){var o=!1,r=showFastBox({title:getLang("groups_age_warning"),width:470,hideOnBGClick:!1,onHide:function(){o||(e.age_disclaimer_back?history.back():location.href="/")},forceNoBtn:1},'<div class="group_age_disclaimer">'+getLang("groups_age_disclaimer")+'<br><div class="checkbox group_age_checkbox" onclick="checkbox(this); disableButton(curBox().proceedButton, !isChecked(this))"><div></div>'+getLang("groups_age_accepted")+"</div></div>");r.removeButtons();var n=r.addButton(getLang("global_cancel"),r.hide,"no",!0);addClass(n,"group_age_disclaimer_close"),r.proceedButton=r.addButton(getLang("groups_age_approve"),(function(){o=!0,removeClass(ge(t),"hidden"),r.hide(),e.age_disclaimer_hash?ajax.post("al_groups.php",{act:"a_set_user_age",hash:e.age_disclaimer_hash}):setCookie("remixage18",1),cur.zNavInfo&&zNav(cur.zNavInfo.info,cur.zNavInfo.opts)}),"yes",!0);var a=geByClass1("box_controls",domPN(r.bodyNode));addClass(a,"group_age_disclaimer_box"),replaceClass(domFC(a),"fl_r","fl_l"),disableButton(r.proceedButton,1)},switchTab:function(e,t,o){return!!checkEvent(o)||("wiki"==t&&hasClass(e,"ui_tab_sel")?nav.go(e,o):(ge("page_info_wrap").className="page_info_wrap "+t,uiTabs.switchTab(e)))},toggleFave:function(e,t,o,r){null!=cur.toggleFaveAct&&(o=cur.toggleFaveAct),ajax.post("fave.php",{act:o?"a_add_group":"a_delete_group",gid:-cur.oid,hash:t},{onDone:function(t){val(e,t),cur.toggleFaveAct=!o,toggleClass(e,"on")},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)}),cancelEvent(r)},hideHelpStep:function(e,t,o,r){var n=domClosest("page_block",e);return e&&e.tt&&e.tt.hide&&e.tt.hide({fasthide:!0}),n&&slideUp(n,200,re.pbind(n)),ajax.post("/al_public.php",{act:"a_hide_help_step",pid:t,step:"help_step_advice",hash:o}),r.cancelBubble=!0,cancelEvent(r)},showInviteBox:function(e,t){return this.inviteBox=(0,m.showBox)("al_page.php",{act:"a_invite_box",gid:t},{params:{bodyStyle:"padding: 0px;",width:560}},e),!this.inviteBox},copyInviteLink:e=>((0,_.copyInviteLinkHref)(e),!1),subscribe:function(e){window.Notifier&&Notifier.addKey(e,L.updates),L.keyTO=setTimeout(L.subscribe,3e4)},toggleFeedIgnored:function(e,t,o){ajax.post("al_feed.php",{act:cur.options.ignored_news?"a_unignore_owner":"a_ignore_owner",owner_id:cur.oid,hash:t,from:"group"},{onDone:function(t){val(e,t),cur.options.ignored_news=!cur.options.ignored_news},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)}),cancelEvent(o)},__debug_toggleDntrStatus:h.donutDebugGroupActions.toggleDntrStatus,__debug_donutResetSubscription:h.donutDebugGroupActions.donutResetSubscription,__debug_donutForcePayment:h.donutDebugGroupActions.donutForcePayment,showLinks:function(){(0,m.showBox)("al_groups.php",{act:"show_links",oid:cur.oid}).setOptions({onHideAttempt:function(){return cur.reloadAfterClose&&(nav.reload({noscroll:!0}),cur.reloadAfterClose=!1),!0}})},showMusicians(){(0,m.showBox)("al_groups.php",{act:"show_musicians",oid:cur.oid})},createEvent:function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];p.default.create(e,t,o)},deleteEvent:function(e,t,o){p.default.delete(e,t,o)},showEvents:function(){p.default.show(cur.options.public_id||-cur.oid)},updateCnt:function(e){e=parseInt(e);var t=ge("page_menu_group_gim");if(t){var o=geByClass1("ui_rmenu_count",t);o&&(o.textContent=e,toggleClass(o,"unshown",0===e))}},updates:function(e,t){each(t.events,(function(e,t){var o=t.split("<!>");switch(o[1]){case"update_cnt":L.updateCnt(o[4]);break;case"update_chat_activity":var r=o[4];(0,u.updateActivityCount)(r)}}))},initPageActionsMenu:f.initPageActionsMenu,updateActions:function(e,t,o){val("page_actions",e);var r=geByClass1("_page_actions_container");r&&t&&domPN(r).replaceChild(se(t),r),void 0!==o&&val("group_moder_info",o)},enter:function(e,t,o,r,n,a){var s,c;if(e=ge(e),(a=a||{}).showProgress||a.hideProgress)s=a.showProgress,c=a.hideProgress;else if(hasClass(e,"flat_button"))s=lockButton.pbind(e),c=unlockButton.pbind(e);else{if(e.firstChild&&"progress"===e.firstChild.className)return;s=()=>{e.oldhtml=e.innerHTML,e.innerHTML='<span class="progress" style="display: block"></span>'},c=()=>{e.innerHTML=e.oldhtml}}window.Page&&hasClass(e,"page_actions_btn")&&Page.actionsDropdownHide(domPS(e),1);var u={act:"enter",gid:t,hash:o,context:r,ref:window.cur.ref},l=domData(e,"trackcode");l&&(u.trackcode=l),ajax.post("al_groups.php",u,{onDone:function(e,t,o){var r=!!document.querySelector(".WideScreenAppPage");if((0,i.tryLogOutOfSerpClick)(i.outOfSerpGroup,cur.oid,i.clickTypeJoinGroupOut),void 0===o.hidden_similar_group&&(E=!0),n)return n.apply(window,arguments);L.updateActions(e,t),toggle("page_actions",e);var a=geByClass1("_groups_invite_block");a&&slideUp(a,200),r||nav.reload({noframe:!0,noscroll:!0})},onFail:e=>{if(e){var t=showFastBox({title:getLang("global_error"),bodyStyle:"padding: 20px; line-height: 160%;"},e);return setTimeout(t.hide,3e3),!0}},showProgress:s,hideProgress:c})},confirm:function(e,t,o,r,n){var a=showFastBox({title:getLang("global_warning")},getLang(e),getLang("group_leave_group"),(function(){a.hide(),L.leave(t,o,r,n)}),getLang("global_cancel"))},onGroupLeaveDonutConfirmation:(e,t,o)=>{(0,h.onGroupLeaveDonutConfirmation)(L,e,t,o)},leave:function(e,t,o,r,n,a){var s,c;if(e=ge(e),hasClass(e,"flat_button"))s=lockButton.pbind(e),c=unlockButton.pbind(e);else{if(e.firstChild&&"progress"==e.firstChild.className)return;s=function(){e.oldhtml=e.innerHTML,e.innerHTML='<span class="progress" style="display: block"></span>'},c=function(){e.innerHTML=e.oldhtml}}window.Page&&hasClass(e,"page_actions_btn")&&Page.actionsDropdownHide(domPS(e),1),ajax.post("al_groups.php",k({act:"leave",gid:t,hash:o,context:r,ref:window.cur.ref},a),{onDone:function(e,t){if(n)return n();(0,i.tryLogOutOfSerpClick)(i.outOfSerpGroup,cur.oid,i.clickTypeLeaveGroupOut),L.updateActions(e,t),toggle("page_actions",e);var o=geByClass1("_groups_invite_block");o&&slideUp(o,200),nav.reload({noframe:!0})},showProgress:s,hideProgress:c})},otherActs:function(e){if(clearTimeout(cur.hideOtherTimer),!e)return!1;e.blur();var t=ge("page_other_acts");return isVisible(t)||(t.style.marginLeft="-1px",t.style.marginTop="-21px",show(t)),!1},hideOther:function(e){if(e>0)cur.hideOtherTimer=setTimeout(cur.hideOther,e);else{var t=ge("page_other_acts");-1==e?hide(t):fadeOut(t,200)}},toggleTop:function(e,t,o,r,n){ajax.post("al_groups.php",{act:"a_toggle_top",gid:t,hash:o,nocis:n},{onDone:function(t){e.innerHTML=t},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)})},toggleStickers:function(e,t,o,r){ajax.post("al_groups.php",{act:"a_toggle_stickers",gid:t,hash:o},{onDone:function(t){e.innerHTML=t},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)})},toggleFastAccess:function(e,t,o){function r(o){var r=o?getLang("groups_fast_menu_access_invert"):getLang("groups_fast_menu_access");val(e,r),e.setAttribute("data-value",o),"groups_list"==cur.module&&window.GroupsList&&GroupsList.updateGroupField(t,11,o)}var n=1^intval(e.getAttribute("data-value")),a=hasClass(e,"page_actions_item")||hasClass(e,"ui_actions_menu_item"),i=window.GroupsAdminTips&&window.GroupsAdminTips.isShownSection()&&window.GroupsAdminTips.isShownItem(window.GroupsAdminTips.ITEM_LEFT_LINK)?1:0;return ajax.post("al_settings.php",{act:"a_toggle_admin_fast",gid:t,hash:o,update_menu:1,update_admin_tips:i},{onDone:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a&&r(e),geByTag1("ol",ge("side_bar")).innerHTML=t,window.Notifier&&Notifier.resetCommConnection(),i&&window.GroupsAdminTips&&null!==o&&window.GroupsAdminTips.refreshSection(o)},onFail:function(e){return a||r(0),"too_much_groups"===e&&(showFastBox(getLang("global_error"),getLang("groups_left_menu_full",5)),!0)}.bind(),showProgress:a&&function(){hasClass(e,"page_actions_item")?window.Page&&Page.actionsDropdownLock(e):lockActionsMenuItem(e)},hideProgress:a&&function(){hasClass(e,"page_actions_item")?window.Page&&Page.actionsDropdownUnlock(e):unlockActionsMenuItem(e)}}),a||r(n),!1},showMapBox:function(e,t,o){window.showZeroZoneBox&&showZeroZoneBox("places",(function(){events.showMapBox(e,t,o)}))||showTabbedBox("/al_places.php",{act:"show_photo_place",place_id:e},{stat:["places.css","map.css","maps.js","ui_controls.css","ui_controls.js"]})},uploadPhotos:function(e,t){if(!((window.XMLHttpRequest||window.XDomainRequest)&&(window.FormData||window.FileReader&&(window.XMLHttpRequest&&XMLHttpRequest.sendAsBinary||window.ArrayBuffer&&window.Uint8Array&&(window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder))))||!t)return nav.go(e,t);if(checkEvent(t))return!0;cur.onPhotoInputChange=function(o){return window.filesToUpload=o,nav.go(e,t)};var o=ge("page_upload_photos_input");return o||(o=se('<input id="page_upload_photos_input" class="file page_upload_photos_input" type="file" onchange="cur.onPhotoInputChange(this.files);" multiple="true" accept="image/jpeg,image/png,image/gif" name="photo" />')),o.click(t),!1},getFlattenedCategories:function(e,t){var o=t[0][e],r=t[1];if(void 0===r)return o;for(var n=[],a=0;a<o.length;a++){var i=o[a];i[3]="section",n=n.concat([i]),r[i[0]]&&(i[5]="1",n=n.concat(r[i[0]]))}for(a=0;a<n.length;a++)n[a][3]=n[a][3]?n[a][3]+" sectioned":"sectioned";return n},initCategories:function(e){e.prefix=e.prefix||"group_category_",e.groupClass=e.groupClass||0,cur.groupCategoriesDD=cur.groupCategoriesDD||{},cur.groupCategoriesDD[e.prefix]=cur.groupCategoriesDD[e.prefix]||{};for(var t=e.categories[e.groupClass],o=0;o<2;++o){var r=[],n=cur.groupCategoriesDD[e.prefix],a=n[o];if(0==o)r=t[o][0];else if(o>0){var i=n[o-1].val();""!=i&&t[o]&&(r=this.getFlattenedCategories(i,t.slice(1))||[])}a&&a.container&&a.container.compareDocumentPosition&&a.container.compareDocumentPosition(bodyNode)&Node.DOCUMENT_POSITION_DISCONNECTED&&(a.destroy(),a=null),a?(a.setData(r),a.currenDataItems=r,a.setOptions({defaultItems:r}),a.clear()):a=new Dropdown(ge(e.prefix+o),r,{width:300,dark:!0,multiselect:!1,autocomplete:!0,introText:getLang("groups_start_typing_subject"),zeroPlaceholder:!0,indexkeys:[1,4],includeSectionsOnMatch:!0,preventDuplicates:!0,noResult:"",placeholder:getLang("groups_choose_subject"),onChange:function(o,r){if(0==o&&r){var a=L.getFlattenedCategories(r,t.slice(1))||[];n[o+1].setData(a),n[o+1].currenDataItems=a,n[o+1].setOptions({defaultItems:a});for(var i=o+1;i<2;++i)n[i].clear(),n[i].disable(i>o+1||!a.length),toggle(ge(e.prefix+"wrap_"+i),!(i>o+1||!a.length))}e.onChange&&e.onChange(o,r)}.pbind(o)}),e.selected[o]&&-1!=e.selected[o]?1==o&&e.selected[2]?a.val(e.selected[2]):a.val(e.selected[o]):o>0&&(-1==e.selected[o-1]||!r.length)&&(a.disable(!0),hide(ge(e.prefix+"wrap_"+o))),cur.groupCategoriesDD[e.prefix][o]=a}},categoriesGetDropdown:function(e,t){return t=t||"group_category_",cur.groupCategoriesDD&&cur.groupCategoriesDD[t]&&cur.groupCategoriesDD[t][e]},getDetailedCategories:function(e,t){for(var o=-1,r=0;r<e.length;r++)if(e[r][0]==t){o=r;break}var n=-1;for(r=o;r>=0;r--)if(Number(e[r][0])<3e3){n=r;break}return-1==o||-1==n?[0,0]:n==o?[e[o][0],0]:[e[n][0],e[o][0]]},categoriesValue:function(e){for(var t=[],o=0;o<2;++o){var r=this.categoriesGetDropdown(o,e);if(0==o)t.push(r?intval(r.val()):0);else{var n=r?intval(r.val()):0;t=t.concat(this.getDetailedCategories(r.dataItems,n))}}return t},deinitCategories:function(e){for(var t=0;t<3;++t){var o=this.categoriesGetDropdown(t,e);o&&o.destroy()}cur.groupCategoriesDD&&delete cur.groupCategoriesDD[e]},saveNewCategories:function(e,t){var o={act:"set_new_categories",gid:e,hash:t};if(L.categoriesGetDropdown(0)){var r=L.categoriesValue();extend(o,{category_0:r[0],category_1:r[1],category_2:r[2]})}var n=ge("group_set_categories_submit");hide("group_set_categories_error_wrap"),hide("group_set_categories_success_wrap"),ajax.post("al_groups.php",o,{onDone:function(e){val("group_set_categories_success",e),show("group_set_categories_success_wrap")},onFail:function(e){return val("group_set_categories_error",e),show("group_set_categories_error_wrap"),!0},showProgress:lockButton.pbind(n),hideProgress:unlockButton.pbind(n)})},hideTopNotice:function(e,t,o){var r="gtop_"+e,n={act:"hide_top_notice",notice:e,group_id:t,hash:o};return ajax.post("al_groups.php",n),slideUp(ge(r),150,re.pbind(r)),!1},goToTopNoticeMoreLink:function(e,t,o,r,n){return(0,i.statlogsValueEvent)("groups_top_notice",1,t,"accept",n),"add_chat_promo"!==t&&(!(!checkEvent(e)&&!r)||nav.go(o))},processActionButton:function(e,t,o,r,n,a,i){return!!isButtonLocked(t)||(ajax.post("al_groups.php",{act:"proxy_cta_button",action:o,resource:r,group_id:n,hash:a},{onDone:function(){unlockButton(t)}}),!i||i(t,e))},setMainAddressId:function(e){(0,r.geByClass)("address_its_main").forEach((t=>{(0,n.checkbox)(t,t===e)}))},highlightModule:b.highlightModule,hightlightPodcasts:function(e){setTimeout((()=>{L.highlightModule({module:"podcast",text:getLang("groups_onboarding_podcast"),onClose:()=>{ajax.post("al_index.php",{act:"hide_feature_tt",hash:e,type:"podcasts_onboarding"})},autoCancelDelay:1e4})}),1500)},joinChat:function(e,t,o,r){(0,l.joinChatBox)(e,t,o,r)},showReportGroupForm:()=>{(0,S.showReportForm)("community",cur.oid,0)},hideEvergreenNotice(e,t,o){e.closest(".page_block").style.display="none",ajax.post("al_groups.php",{act:"evergreen_notice_hide",group_id:t,hash:o},{onFail:e=>console.log(e)})},openEvergreenLongread(){nav.go("/@adminsclub-evergreen")},initYoulaMiniapp(e,t){var o=t.groupId,r=t.hash,n=t.url;return(0,C.showWiki)({w:n},!1,e,{onLoaded:()=>{y.YoulaProductCreate.init(r,o)}})},trackableElementClick(e,t){window.ajax.post("al_groups.php",{act:"track",track_code:t,type:e})}}},229434:(e,t,o)=>{o.d(t,{updateActivityCount:()=>a});var r=o(116886),n=o(414914);function a(e){var t=(0,n.ge)("group_section_chats"),o=(0,n.geByClass1)("group_chat_label_activity",t),a="";e&&(a=(0,r.getLang)("groups_chats_activity_status",e));var i="no_activity",s=hasClass(t,i);return a?s&&removeClass(t,i):s||addClass(t,i),(0,n.setInnerText)(o,a),a}},995143:(e,t,o)=>{var r=o(127131);window.Groups=r.Groups;try{window.stManager.done(window.jsc("web/groups.js")),(0,r.registerStartupHandlers)()}catch(e){}},532453:(e,t,o)=>{o.d(t,{parseReactWikiLinks:()=>a});var r=o(570655),n=o(667294);function a(e){var t=e.match(/\[(.*?)\]/g),o=t?t.map((function(e){return e.replace(/\[|(.*?)\]/g,"$1")})):[];if(!t||!o.length)return n.createElement(n.Fragment,null,e);var a=o.map((function(e,t){var o=(0,r.__read)(e.split("|"),2),a=o[0],i=o[1];return n.createElement("a",{href:a,key:t},i)})),i=[];return t.forEach((function(t,o){var r=e.indexOf(t);i.push(e.substr(0,r)),i.push(a[o]),e=e.slice(r+t.length)})),i.push(e),n.createElement(n.Fragment,null,i)}},163170:(e,t,o)=>{o.d(t,{highlightModule:()=>u});var r,n,a=o(412685),i=o(51229),s=o(927663),c=o(414914);function u(e){var t,o=document.getElementById(e.module);if(o&&o.classList.contains("module")){window.cur.__narrowBarForceNotFixed=!0;var u=e.speed?e.speed:300;(0,s.scrollToY)((0,c.getXY)(o)[1]-100,u);var l=function(){r&&(r.hideTT(),(0,s.enableBodyScroll)(),delete window.cur.__narrowBarForceNotFixed,(0,i.updateNarrow)(),e.onClose&&e.onClose())};(r=new a.default(o,e.text,{highlight:!0,width:250,offset:[0,-17],side:"bottom",withCloseButton:!0,onBGClick:l,onCloseButtonClick:l})).show(),(0,s.disableBodyScroll)(),e.autoCancelDelay&&(n=setTimeout((function(){l(),n=null}),e.autoCancelDelay),null===(t=window.cur.destroy)||void 0===t||t.push((function(){n&&clearTimeout(n)})))}}},129601:(e,t,o)=>{o.d(t,{ReportReasonCategorySelector:()=>i});var r=o(570655),n=o(667294),a=o(540249),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.renderCategory=function(e,t){var o=this;return n.createElement("div",{className:"ReportReasonCategorySelector__category",key:e.label,onClick:function(){return o.props.onCategorySelect(t)}},n.createElement("div",{className:"ReportReasonCategorySelector__categoryLabel"},e.label),n.createElement(a.default,{className:"ReportReasonCategorySelector__categoryArrow"}))},t.prototype.render=function(){var e=this;return n.createElement("div",{className:"ReportReasonCategorySelector"},this.props.categories.map((function(t,o){return e.renderCategory(t,o)})))},t}(n.Component)},623475:(e,t,o)=>{o.d(t,{ReportReasonSelector:()=>s});var r=o(570655),n=o(667294),a=o(62738),i=o(659397),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.renderReason=function(e){var t=this;return n.createElement(a.default,{className:"ReportReasonSelector__reason",key:e.id,checked:this.props.selectedReasonId===e.id,onChange:function(){return t.props.onReasonSelect(e)}},n.createElement("div",{className:"ReportReasonSelector__reasonInformation"},n.createElement("div",{className:"ReportReasonSelector__reasonLabel"},e.label),e.description&&n.createElement("div",{className:"ReportReasonSelector__reasonDescription"},e.description)))},t.prototype.render=function(){var e=this;return n.createElement("div",{className:(0,i.classNames)("ReportReasonSelector",this.props.className)},this.props.reasons.map((function(t){return e.renderReason(t)})))},t}(n.Component)},228314:(e,t,o)=>{o.d(t,{ReportForm:()=>E});var r,n=o(570655),a=o(667294),i=o(40897),s=o(41437),c=o(148434),u=o(519921),l=o(492867),p=o(733024),d=o(225154),g=o(933294),m=o(262643),_=o(532453),h=o(496495),f=o(423558),v=o(881150),w=o(595775),b=o(244809),y=o(996030),C=o(659397),S=o(129601),k=o(623475);!function(e){e.InitialLoading="initialLoading",e.ReportCategorySelection="reportCategorySelection",e.ReportComposition="reportComposition",e.AfterSubmit="afterSubmit",e.Error="error"}(r||(r={}));var E=function(e){function t(t){var o=e.call(this,t)||this,n={header:"",more:"",reason_categories:[],snippet:void 0,after_submit_actions:void 0,profiles:void 0,groups:void 0};return o.state={stage:r.InitialLoading,data:n,submitButtonLoading:!1,loadingAfterSubmitActions:{blacklist:!1},commentError:"",submitError:"",reasonCategoryId:void 0,reasonId:void 0,comment:""},o}return(0,n.__extends)(t,e),t.destroy=function(){(0,i.destroyComponentInBox)()},t.prototype.componentDidMount=function(){this.loadInitialData()},t.prototype.loadInitialData=function(){var e=this;(0,g.default)(m.api)("reports.getReportFormData",{source:this.props.reportSource,source_owner_id:this.props.reportSourceOwnerId,source_id:this.props.reportSourceId,fields:"blacklisted_by_me,is_hidden_from_feed"}).then((function(t){return e.setState({stage:r.ReportCategorySelection,data:t})})).catch((function(){return e.switchToErrorStage("Load initial data promise rejected")}))},t.prototype.submit=function(){var e=this;this.isSubmitEnabled()?(this.setState({submitButtonLoading:!0,submitError:""}),(0,g.default)(m.api)("reports.add",{type:this.props.reportSource,owner_id:this.props.reportSourceOwnerId,item_id:this.props.reportSourceId,reason:this.state.reasonId,comment:this.state.comment||void 0}).then((function(){e.setState({stage:r.AfterSubmit}),e.props.onSubmit&&e.props.onSubmit()})).catch((function(t){var o=t&&t.error&&t.error.error_text?t.error.error_text:(0,s.getLang)("global_unknown_error");e.setState({submitError:o}),(0,u.debugLog)("submit error happened",t)})).finally((function(){e.setState({submitButtonLoading:!1})}))):(0,u.debugLog)("Unable to submit form because submit is not enabled yet")},t.prototype.isSubmitEnabled=function(){var e;if(this.state.submitButtonLoading)return!1;if(void 0===this.state.reasonCategoryId)return!1;if(void 0===this.state.reasonId)return!1;var t=this.state.data.reason_categories[this.state.reasonCategoryId];if(null===(e=null==t?void 0:t.comment_field)||void 0===e?void 0:e.is_required){if(""===this.state.comment)return!1;if(""!==this.state.commentError)return!1}return!0},t.prototype.switchToErrorStage=function(e){(0,u.debugLog)("report form error: "+e),this.setState({stage:r.Error})},t.prototype.moveToPreviousStage=function(){this.state.submitButtonLoading?(0,u.debugLog)("Unable to move to previous stage if form submits something right now"):this.state.stage===r.ReportComposition?this.setState({stage:r.ReportCategorySelection,reasonCategoryId:void 0,reasonId:void 0,comment:"",commentError:"",submitError:""}):this.switchToErrorStage('Unable to move to previous stage from the current stage (not "report composition")')},t.isVkDomainLink=function(e){return null!==new RegExp("^(?:(?:http|https)://)?.*vk.com/.*$","g").exec(e)},t.parsePostLink=function(e){var t=new RegExp("^(?:(?:http|https)://)?.*vk.com/.*wall(-?\\d+)_(\\d+).*$","g").exec(e);return null===t?null:{ownerId:Number(t[1]),id:Number(t[2])}},t.shortenActionName=function(e){switch(e){case"blacklist":return"bl"}},t.prototype.getAfterSubmitAction=function(e){var o,r,n=this;if(null===(r=null===(o=this.state.data)||void 0===o?void 0:o.snippet)||void 0===r?void 0:r.author_id){var a=this.state.data.snippet.author_id,i=t.shortenActionName(e),c=(0,s.getLang)("reports_report_form_after_submit_action_"+i+"_perform"),l=(0,s.getLang)("reports_report_form_after_submit_action_"+i+"_performed");switch(e){case"blacklist":return{performLabel:c,performedLabel:l,isPerformed:function(){var e;return 1===(null===(e=n.state.data)||void 0===e?void 0:e.profiles)[0].blacklisted_by_me},perform:function(){return(0,g.default)(m.api)("account.ban",{user_id:a})},cancel:function(){return(0,g.default)(m.api)("account.unban",{user_id:a})},toggleStateAfterUpdate:function(){var e=n.state.data;e.profiles&&(e.profiles[0].blacklisted_by_me=e.profiles[0].blacklisted_by_me?0:1,n.setState({data:e}))}};default:return void(0,u.debugLog)("undefined after submit action name")}}},t.prototype.isAfterSubmitActionLoading=function(e){return this.state.loadingAfterSubmitActions[e]},t.prototype.updateAfterSubmitActionLoading=function(e,t){var o=this.state.loadingAfterSubmitActions;o[e]=t,this.setState({loadingAfterSubmitActions:o})},t.prototype.updateLinkComment=function(e){var o="";""!==e&&(t.isVkDomainLink(e)?null===t.parsePostLink(e)&&(o=(0,s.getLang)("reports_report_form_not_post_link")):o=(0,s.getLang)("reports_report_form_not_internal_link")),this.setState({comment:e,commentError:o})},t.prototype.selectReasonCategory=function(e){var t=this.state.data.reason_categories[e].reasons;this.setState({stage:r.ReportComposition,reasonCategoryId:e,reasonId:1===t.length?t[0].id:void 0})},t.prototype.selectReason=function(e){e.redirect_url?window.nav.go(e.redirect_url):this.setState({reasonId:e.id})},t.prototype.renderBottomButtons=function(){var e=this;return a.createElement("div",{className:"ReportForm__bottomButtons box_controls"},a.createElement(v.default,{appearance:"tertiary",className:"ReportForm__cancelButton",onClick:function(){return t.destroy()}},(0,s.getLang)("global_cancel")),a.createElement(f.default,{appearance:"primary",className:"ReportForm__submitButton",loading:this.state.submitButtonLoading,disabled:!this.isSubmitEnabled(),onClick:function(){return e.submit()}},(0,s.getLang)("reports_form_send_report")))},t.prototype.renderMoveBackHeader=function(){var e=this,o=a.createElement("div",{className:"ReportForm__headerMoveBackButton",onClick:function(){return e.moveToPreviousStage()}},a.createElement(l.default,{className:"ReportForm__headerMoveBackIcon"}),a.createElement("div",{className:"ReportForm__headerMoveBackLabel"},(0,s.getLang)("reports_report_form_get_back")));return t.renderHeader(o)},t.prototype.renderSingleReasonReasonsCategory=function(){if(void 0===this.state.reasonCategoryId)return t.renderErrorBlock();var e=this.state.data.reason_categories[this.state.reasonCategoryId];return e.comment_field?e.reasons[0].id===h.ReportReasonIds.NotOriginalContent?this.renderNotOriginalContentSubReasonBody():a.createElement("div",{className:"ReportForm__singleReasonTextWithComment"},a.createElement("div",{className:"ReportForm__singleReasonText"},e.reasons[0].description),this.renderComment()):a.createElement("div",{className:"ReportForm__singleReasonText"},e.reasons[0].description)},t.prototype.renderNotOriginalContentSubReasonBody=function(){var e=this;if(void 0===this.state.reasonCategoryId)return t.renderErrorBlock();var o=this.state.data.reason_categories[this.state.reasonCategoryId],r=this.state.commentError?this.state.commentError:o.reasons[0].description;return a.createElement("div",{className:(0,C.classNames)("ReportForm__singleReasonTextWithComment",{"ReportForm__singleReasonTextWithComment--error":!!this.state.commentError})},a.createElement(w.default,{className:"ReportForm__linkInput",onChange:function(t){return e.updateLinkComment(t.target.value)},value:this.state.comment,placeholder:(0,s.getLang)("reports_report_form_input_a_link")}),a.createElement("div",{className:"ReportForm__commentNotice"},r))},t.prototype.renderMultipleReasonsReasonCategory=function(){var e=this;if(void 0===this.state.reasonCategoryId)return t.renderErrorBlock();var o=this.state.data.reason_categories[this.state.reasonCategoryId];return a.createElement("div",null,a.createElement(k.ReportReasonSelector,{reasons:o.reasons,selectedReasonId:this.state.reasonId,onReasonSelect:function(t){return e.selectReason(t)}}),o.comment_field&&this.renderComment())},t.prototype.renderComment=function(){var e,o,r=this;if(void 0===this.state.reasonCategoryId)return t.renderErrorBlock();var n=this.state.data.reason_categories[this.state.reasonCategoryId];return a.createElement("div",{className:"ReportForm__singleReasonTextWithComment"},a.createElement("div",{className:"ReportForm__commentLabel"},a.createElement("div",{className:"ReportForm__commentMainText"},(0,s.getLang)("reports_report_form_comment")),!(null===(e=n.comment_field)||void 0===e?void 0:e.is_required)&&a.createElement("div",{className:"ReportForm__commentNotRequired"},"(",(0,s.getLang)("reports_report_form_comment_is_not_necessary"),")")),a.createElement(b.default,{className:"ReportForm__commentInput",onChange:function(e){return r.setState({comment:e.target.value})},placeholder:null===(o=n.comment_field)||void 0===o?void 0:o.placeholder,value:this.state.comment}))},t.prototype.renderAfterSubmitActions=function(){var e=this;if(!this.state.data.after_submit_actions)return"";var t=this.state.data.after_submit_actions.map((function(t){return e.renderAfterSubmitAction(t)})).filter((function(e){return""!==e}));return t&&0!==t.length?a.createElement("div",{className:"ReportForm__afterSubmitActionsBlock"},a.createElement("div",{className:"ReportForm__afterSubmitActionsLabel"},(0,s.getLang)("reports_report_form_additional_actions")),a.createElement("div",{className:"ReportForm__afterSubmitActions"},t)):""},t.prototype.renderAfterSubmitAction=function(e){var t=this,o=this.getAfterSubmitAction(e);if(!o)return"";var r=o.isPerformed()?o.performedLabel:o.performLabel;return a.createElement("div",{className:(0,C.classNames)("ReportForm__afterSubmitAction",{"ReportForm__afterSubmitAction--performed":o.isPerformed()}),key:e,onClick:function(){o.isPerformed()||t.isAfterSubmitActionLoading(e)||(t.updateAfterSubmitActionLoading(e,!0),o.perform().then((function(){return o.toggleStateAfterUpdate()})).catch((function(){return(0,u.debugLog)("Error happened in onPerformAction")})).finally((function(){return t.updateAfterSubmitActionLoading(e,!1)})))}},a.createElement("div",{className:"ReportForm__afterSubmitActionLabel"},r),o.isPerformed()&&a.createElement(a.Fragment,null,a.createElement("div",{className:"ReportForm__afterSubmitActionBeforeCancelSeparator"},"·"),a.createElement("div",{className:"ReportForm__cancelAfterSubmitActionButton",onClick:function(){o.isPerformed()&&(t.isAfterSubmitActionLoading(e)||(t.updateAfterSubmitActionLoading(e,!0),o.cancel().then((function(){return o.toggleStateAfterUpdate()})).catch((function(){return(0,u.debugLog)("Error happened in onCancelAction")})).finally((function(){return t.updateAfterSubmitActionLoading(e,!1)}))))}},"Отмена")))},t.renderHeader=function(e){return void 0===e&&(e=(0,s.getLang)("reports_report_form_header")),a.createElement("div",{className:"ReportForm__header box_title_wrap box_grey"},a.createElement("div",{className:"box_x_button",role:"button",onClick:function(){return t.destroy()}}),a.createElement("div",{className:"box_title"},e))},t.renderContent=function(e){return a.createElement("div",{className:"ReportForm__content box_body clear_fix"},e)},t.renderErrorBlock=function(){return a.createElement(a.Fragment,null,"error")},t.prototype.renderAfterSubmitStage=function(){var e=a.createElement(a.Fragment,null,a.createElement(p.default,{className:"ReportForm__afterSubmitCloseButton",onClick:function(){return t.destroy()}}),a.createElement(d.default,{className:"ReportForm__successfulSubmitIcon"}),a.createElement("div",{className:"ReportForm__thankYou"},(0,s.getLang)("reports_report_form_thank_you")),a.createElement("div",{className:"ReportForm__submitResultDescription"},(0,s.getLang)("reports_report_form_submit_result")),this.renderAfterSubmitActions());return a.createElement(a.Fragment,null,t.renderContent(e))},t.prototype.renderReportCompositionStage=function(){if(void 0===this.state.reasonCategoryId)return t.renderErrorBlock();var e=this.state.data.reason_categories[this.state.reasonCategoryId],o=a.createElement(a.Fragment,null,this.state.submitError&&a.createElement("div",{className:"ReportForm__submitError"},this.state.submitError),this.state.data.snippet&&a.createElement(y.ReportFormSnippet,{snippet:this.state.data.snippet}),a.createElement("div",{className:"ReportForm__categoryHeader"},e.explanation),1===e.reasons.length?this.renderSingleReasonReasonsCategory():this.renderMultipleReasonsReasonCategory(),e.more&&a.createElement("div",{className:"ReportForm__more"},(0,_.parseReactWikiLinks)(e.more)));return a.createElement(a.Fragment,null,this.renderMoveBackHeader(),t.renderContent(o),this.renderBottomButtons())},t.prototype.renderReportCategorySelectionStage=function(){var e=this,o=a.createElement(a.Fragment,null,this.state.data.snippet&&a.createElement(y.ReportFormSnippet,{snippet:this.state.data.snippet}),a.createElement("div",{className:"ReportForm__categorySelectionHeader"},this.state.data.header),a.createElement(S.ReportReasonCategorySelector,{categories:this.state.data.reason_categories,onCategorySelect:function(t){return e.selectReasonCategory(t)}}),a.createElement("div",{className:"ReportForm__more"},(0,_.parseReactWikiLinks)(this.state.data.more)));return a.createElement(a.Fragment,null,t.renderHeader(),t.renderContent(o))},t.renderErrorStage=function(){return a.createElement(a.Fragment,null,t.renderHeader(),t.renderContent((0,s.getLang)("reports_report_form_error")))},t.renderInitialLoadingStage=function(){return a.createElement(a.Fragment,null,t.renderHeader(),t.renderContent(a.createElement(c.default,null)))},t.prototype.render=function(){var e;switch(this.state.stage){case r.InitialLoading:e=t.renderInitialLoadingStage();break;case r.ReportCategorySelection:e=this.renderReportCategorySelectionStage();break;case r.ReportComposition:e=this.renderReportCompositionStage();break;case r.AfterSubmit:e=this.renderAfterSubmitStage();break;case r.Error:default:e=t.renderErrorStage()}return a.createElement("div",{className:(0,C.classNames)("ReportForm",{initialLoading:"ReportForm--initialLoadingStage",reportCategorySelection:"ReportForm--reportCategorySelectionStage",reportComposition:"ReportForm--reportCompositionStage",afterSubmit:"ReportForm--afterSubmitStage",error:"ReportForm--errorStage"}[this.state.stage])},e)},t}(a.Component)},996030:(e,t,o)=>{o.d(t,{ReportFormSnippet:()=>L});var r=o(570655),n=o(667294),a=o(599149),i=o(458819),s=o(824245),c=o(182285),u=o(445098),l=o(784977),p=o(342577),d=o(586430),g=o(741774),m=o(663185),_=o(430811),h=o(739124),f=o(671539),v=o(665599),w=o(337227),b=o(317152),y=o(411415),C=o(532453),S=o(442699),k=o(116886),E=o(41437),R=o(659397),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.renderAttachmentPreview=function(){var e=this.props.snippet.attachment_preview;return e?0==e.sizes.length?this.renderDefaultReportFormAttachmentPreview():n.createElement("div",{className:"ReportFormSnippet__attachmentPreviewWrap"},n.createElement("img",{className:"ReportFormSnippet__attachmentPreview",src:e.sizes[0].url,alt:""}),e.can_play&&n.createElement(a.default,{className:"ReportFormSnippet__attachmentPreviewPlayButton"})):""},t.prototype.renderDefaultReportFormAttachmentPreview=function(){var e,t=this.props.snippet.attachment_preview;if(!t)return"";switch(t.type){case"app":e=i.default;break;case"article":e=s.default;break;case"audio":e=c.default;break;case"market":e=u.default;break;case"photo":e=l.default;break;case"album":e=p.default;break;case"video":e=d.default;break;case"poll":case"board_poll":e=g.default;break;case"story":e=m.default;break;case"narrative":e=_.default;break;case"live_comment":case"market_comment":case"photo_comment":case"topic_comment":case"comment":case"video_comment":case"wall_comment":e=h.default;break;case"post":case"situational_post":case"wall":e=f.default;break;case"textlive":case"textpost":e=v.default;break;case"link":e=w.default;break;case"sticker":e=b.default;break;default:e=y.default}return n.createElement("div",{className:"ReportFormSnippet__attachmentPreview ReportFormSnippet__attachmentPreview--default"},n.createElement(e,{className:"ReportFormSnippet__defaultAttachmentPreviewIcon"}))},t.prototype.renderNotContentSnippet=function(e,t){return n.createElement(n.Fragment,null,n.createElement("div",{className:"ReportFormSnippet__left"},n.createElement("div",{className:"ReportFormSnippet__name"},this.props.snippet.name),t),n.createElement("img",{className:"ReportFormSnippet__image",src:e,alt:"snippet_image"}))},t.prototype.renderContentSnippet=function(e,t){var o=(0,k.langDate)(1e3*this.props.snippet.date,(0,E.getLang)("global_short_date_time","raw"),0,(0,E.getLang)("months_sm_of","raw"));return n.createElement(n.Fragment,null,n.createElement("div",{className:"ReportFormSnippet__metaInfo"},n.createElement("img",{className:"ReportFormSnippet__authorAvatar",src:e,alt:"snippet_image"}),n.createElement("div",{className:"ReportFormSnippet__authorName"},this.props.snippet.name),n.createElement("div",{className:"ReportFormSnippet__date"},o)),n.createElement("div",{className:"ReportFormSnippet__content"},t,this.renderAttachmentPreview()))},t.prototype.render=function(){var e,t=n.createElement("div",{className:"ReportFormSnippet__text"},(0,C.parseReactWikiLinks)(this.props.snippet.text)),o=(0,S.isRetina)()?this.props.snippet.photo.big:this.props.snippet.photo.medium;e="content"===this.props.snippet.type?this.renderContentSnippet(o,t):this.renderNotContentSnippet(o,t);return n.createElement("div",{className:(0,R.classNames)("ReportFormSnippet",{user:"ReportFormSnippet--user",community:"ReportFormSnippet--community",app:"ReportFormSnippet--app",game:"ReportFormSnippet--game",content:"ReportFormSnippet--content"}[this.props.snippet.type])},e)},t}(n.Component)},496495:(e,t,o)=>{o.d(t,{ReportReasonIds:()=>r,showReportForm:()=>u,afterCommentReportSubmit:()=>l});var r,n=o(228314),a=o(40897),i=o(667294),s=o(519921),c=o(116886);function u(e,t,o,r,s){var c=i.createElement(n.ReportForm,{reportSource:e,reportSourceOwnerId:t,reportSourceId:o,onSubmit:r}),u={onDestroy:s};(0,a.showComponentInBox)(c,u)}function l(e,t,o){var r=function(e,t,o){switch(e){case"photo":return"#post"+t+"photo_"+o;case"video":return"#post"+t+"video_"+o+"mv";case"market":return"#post"+t+"market_"+o}}(e,t,o);if("photo"===e){var n=document.querySelector(r+" .dld");null!==n&&(n.outerHTML="")}var a=document.querySelector(r+" .reply_wrap");null!==a?(a.style.display="none",a.outerHTML+='<div class="dld">'+(0,c.getLang)("global_report_sent")+"</div>"):(0,s.debugLog)("Unable to hide report button for "+e+" comment")}!function(e){e[e.NotOriginalContent=28]="NotOriginalContent"}(r||(r={}))},330044:(e,t,o)=>{o.d(t,{YoulaProductCreate:()=>p});var r,n=o(570655),a=o(667294),i=o(469433),s=o(64385),c=o(40897),u=o(706885);function l(e){var t=e.groupId,o=e.productUrl,r=e.hash;return new Promise((function(e,n){s.ajax.post("al_classifieds.php",{act:"save_product",group_id:t,product_url:o,hash:r},{onDone:function(t){e(t)},onFail:function(e){return n(e),!0}})}))}!function(e){e.CREATED_EVENT_TYPE="productCreated",e.UPDATED_EVENT_TYPE="productUpdated"}(r||(r={}));var p={init:function(e,t){var o;(o=document.querySelector(".MiniAppControlMore"))&&o.remove();var s="";function p(e){var t,o;(null===(t=e.data)||void 0===t?void 0:t.type)===r.CREATED_EVENT_TYPE&&(s=null===(o=e.data.payload)||void 0===o?void 0:o.url)}window.addEventListener("message",p,!1),window.wkcur._hide.push((function o(){window.removeEventListener("message",p),s&&function(e){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t;return(0,n.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),(0,c.showComponentInBox)(a.createElement(u.default,null)),[4,l(e)];case 1:return t=o.sent().product_url,[4,(r=t,new Promise((function(e,t){(0,i.showWiki)({w:r,from:"groups"},!1,null,{noloader:!0,onLoaded:e,onFail:t})})))];case 2:case 3:return o.sent(),(0,c.destroyComponentInBox)(),[3,4];case 4:return[2]}var r}))}))}({groupId:t,productUrl:s,hash:e}).catch((function(){})),window.wkcur._hide=window.wkcur._hide.filter((function(e){return e!==o}))}))},initVko:function(e){var t=e.onCreateClassified,o=e.onUpdateClassified;function n(e){var n,a;(null===(n=e.data)||void 0===n?void 0:n.type)===r.CREATED_EVENT_TYPE&&t&&t(e),(null===(a=e.data)||void 0===a?void 0:a.type)===r.UPDATED_EVENT_TYPE&&o&&o(e)}window.addEventListener("message",n,!1),window.wkcur._hide.push((function e(){window.removeEventListener("message",n),window.wkcur._hide=window.wkcur._hide.filter((function(t){return t!==e}))}))}}}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e].call(o.exports,o,o.exports,a),o.exports}a.m=r,e=[],a.O=(t,o,r,n)=>{if(!o){var i=1/0;for(l=0;l<e.length;l++){for(var[o,r,n]=e[l],s=!0,c=0;c<o.length;c++)(!1&n||i>=n)&&Object.keys(a.O).every((e=>a.O[e](o[c])))?o.splice(c--,1):(s=!1,n<i&&(i=n));if(s){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[o,r,n]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var n=Object.create(null);a.r(n);var i={};t=t||[null,o({}),o([]),o(o)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=o(s))Object.getOwnPropertyNames(s).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,a.d(n,i),n},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.e=()=>Promise.resolve(),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={9823:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var r,n,[i,s,c]=o,u=0;for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)var l=c(a);for(t&&t(o);u<i.length;u++)n=i[u],a.o(e,n)&&e[n]&&e[n][0](),e[i[u]]=0;return a.O(l)},o=self.webpackChunkvk=self.webpackChunkvk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=a.O(void 0,[885,8592,4509,6051,4595,6019,9429,6183,2256],(()=>a(995143)));i=a.O(i)})();